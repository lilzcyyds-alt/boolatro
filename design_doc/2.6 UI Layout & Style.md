# 2.6 UI Layout & Style

## 设计目标

构建一个高度还原 Balatro 风格、以 **16:9** 为基准比例、且深度集成 **Flame Engine** 的游戏化界面。

## 布局架构 (Layout Architecture)

整体布局由 `RootLayoutComponent` (Flame) 管理，在 `GamePhase.proof` 阶段划分为五个核心区域：

| 区域 | 名称 | 功能描述 |
| :--- | :--- | :--- |
| **顶部 (Top)** | **Joker 栏** | 展示已拥有的特殊卡牌 (`JokerRowComponent`)。 |
| **左侧 (Left)** | **计分面板** | 显示分数、目标、金钱、手牌 (`ScoringPanelComponent`)。 |
| **中央 (Center)** | **舞台区域** | 动态切换各阶段内容 (`StageComponent`)。 |
| **右侧 (Right)** | **操作面板** | 包含 Edit Proof, Backspace, Clear 等按钮 (`ActionPanelComponent`)。 |
| **底部 (Bottom)** | **玩家手牌** | 扇形排列的逻辑符号卡牌 (`HandComponent`)。 |

### 阶段性布局调整 (Dynamic Layout)
- **Start/Select Blind/Shop/Cashout**: 隐藏手牌、计分板和操作面板，扩大中央舞台区域。
- **Proof Phase**: 完整展示所有五个区域。

## 视觉规范 (Visual Specs)

### 1. 配色方案 (Color Palette)
- **背景**: `Colors.blueGrey.shade900` 到 `Colors.black` 的线性渐变。
- **状态颜色**:
  - **MONEY**: 橙色 (`Colors.orange.shade700`)。
  - **SCORE**: 深红色 (`Colors.red.shade900`)。
  - **HANDS**: 蓝色 (`Colors.blue.shade700`)。
- **卡牌设计**:
  - **符号卡**: 纯白背景，黑色粗体。
  - **特殊卡 (Jokers)**: 半透明背景，带发光发热特效。

### 2. 特效与交互
- **扇形排列 (Fanned Hand)**: 手牌基于 `Stack` 和 `Transform.rotate` 实现，根据卡牌索引动态计算旋转角度和垂直偏移。
- **响应式缩放**: 使用 `FittedBox` 确保面板内容在不同分辨率下自动适配，避免溢出。
- **混合渲染**: 
  - **Flame Components** 用于动态交互和复杂动画。
  - **Flutter Overlays** 用于需要软键盘支持的文本输入（如 `ProofEditor`）。

## 组件实现细节

- **JokerRowComponent**: 负责特殊卡牌的横向排列与展示。
- **StageComponent**: 核心容器，根据 `RunState.phase` 动态加载 `StartStage`, `ShopStage`, `ProofStage` 等子组件。
- **ActionPanelComponent**: 集合了核心交互按钮，并通过 `RunState` 驱动状态变更。
